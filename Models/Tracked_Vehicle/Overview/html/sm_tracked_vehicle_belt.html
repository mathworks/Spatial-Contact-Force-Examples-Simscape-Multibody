<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      -->
<title>Tracked Vehicle with Belt Contact</title>
<meta name="generator" content="MATLAB 25.1">
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
<meta name="DC.date" content="2026-01-13">
<meta name="DC.source" content="sm_tracked_vehicle_belt.m">
<style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; }

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }
span.typesection { color:#A0522D }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style>
</head>
<body>
<div class="content">
<h1>Tracked Vehicle with Belt Contact</h1>
<!--introduction-->
<p>This example models a tracked vehicle with an abstract model of the tracks that propel it across the ground. It shows how to use a custom contact force law to model the track as a conveyor belt. The surface of the track is modeled as a point cloud, enabling the belt to assume any desired shape. The model can be configured to use a flat or an uneven surface for testing.</p>
<!--/introduction-->
<h2>Contents</h2>
<div>
<ul>
<li>
<a href="#1">Model</a>
</li>
<li>
<a href="#2">Vehicle</a>
</li>
<li>
<a href="#3">Track</a>
</li>
<li>
<a href="#4">Extrusion and Point Cloud</a>
</li>
<li>
<a href="#5">Contact</a>
</li>
<li>
<a href="#6">Spatial Contact Force block</a>
</li>
<li>
<a href="#7">Custom Contact Force Law</a>
</li>
<li>
<a href="#8">Simulation Results from Simscape Logging: Flat Terrain</a>
</li>
<li>
<a href="#10">Simulation Results from Simscape Logging: Uneven Terrain</a>
</li>
</ul>
</div>
<h2 id="1">Model</h2>
<p>
<a href="matlab:open_system('sm_tracked_vehicle_belt');">Open Model</a>
</p>
<img vspace="5" hspace="5" src="sm_tracked_vehicle_belt_01.png" alt=""> <h2 id="2">Vehicle</h2>
<p>The vehicle is modeled with two identical tracks connected by a rigid body. The input signal specifies the rotational speed of the rollers. The rotation is a visual indication only of the speed and has no actual impact on the motion of the vehicle. The output signal is the translational speed of the belt which is used by the custom contact force.</p>
<p>
<a href="matlab:open_system('sm_tracked_vehicle_belt');open_system('sm_tracked_vehicle_belt/Vehicle','force');">Open Subsystem</a>
</p>
<img vspace="5" hspace="5" src="sm_tracked_vehicle_belt_02.png" alt=""> <h2 id="3">Track</h2>
<p>This subsystem models one track. It has a triangular-shaped link representing the track. Three cylinders represent the sprocket and two idlers. The rotation is simply a visual indication of the target speed and direction of the track and has no impact on the actual speed of the vehicle.</p>
<p>A point cloud is used as a geometry proxy for contact. It is parameterized so that the number and location of points is specified in MATLAB. This lets the contact surface have any shape.</p>
<p>
<a href="matlab:open_system('sm_tracked_vehicle_belt');open_system('sm_tracked_vehicle_belt/Vehicle/Track%20R','force');">Open Subsystem</a>
</p>
<img vspace="5" hspace="5" src="sm_tracked_vehicle_belt_03.png" alt=""> <h2 id="4">Extrusion and Point Cloud</h2>
<p>The solid representing the track is created using an extrusion which is parameterized with a few scalar values. From those scalar values, a profile is generated that includes the outer profile of the track and holes where the sprocket and rollers are placed. The other points on the outside surface represent locations where the points in the point cloud could be placed. To reduce the amount of computation, only points on the lower surface of the track are used, and those are highlighted in a different color.</p>
<img vspace="5" hspace="5" src="sm_tracked_vehicle_belt_04.png" alt=""> <h2 id="5">Contact</h2>
<p>This subsystem shows the two custom contact forces that model the contact between the tracks and the ground. The geometry ports connect to the contact geometry for the track (point cloud) and the ground (grid surface). The input signal is the speed of the surface of the track.</p>
<p>
<a href="matlab:open_system('sm_tracked_vehicle_belt');open_system('sm_tracked_vehicle_belt/Contact','force');">Open Subsystem</a>
</p>
<img vspace="5" hspace="5" src="sm_tracked_vehicle_belt_05.png" alt=""> <h2 id="6">Spatial Contact Force block</h2>
<p>This subsystem shows the connection between the Spatial Contact Force block and the custom force law subsystem. The Spatial Contact Force measures quantities necessary to calculate the normal and friction forces. Those forces are fed back to the Spatial Contact Force block and applied to the mechanism.</p>
<p>
<a href="matlab:open_system('sm_tracked_vehicle_belt');open_system('sm_tracked_vehicle_belt/Contact/Contact%20Track%20R','force');">Open Subsystem</a>
</p>
<img vspace="5" hspace="5" src="sm_tracked_vehicle_belt_06.png" alt=""> <h2 id="7">Custom Contact Force Law</h2>
<p>This subsystem shows the implementation of the custom force law. The separation distance and separation velocity are used to calculate the normal force. The tangential velocity and the normal force are used to calculate the friction force.</p>
<p>This custom force law lets the user specify the speed of the belt as an input signal. This implementation adds this relative velocity to the measured tangential velocity. The resulting friction force will push the object as if the solid representing the belt was moving.</p>
<p>The belt speed is defined along the positive x-axis of the belt, which is connected to the Base frame of the Spatial Contact Force block. Since the contact frame may not be aligned with the base geometry reference frame, we need a rotation matrix provided by the Spatial Contact Force block to transform the velocity expressed in the belt frame to the contact force frame. That velocity is then added to the measured tangential velocity components which are measured in the contact force frame.</p>
<p>
<a href="matlab:open_system('sm_tracked_vehicle_belt');open_system('sm_tracked_vehicle_belt/Contact/Contact%20Track%20R/Custom%20Force%20Law','force');">Open Subsystem</a>
</p>
<img vspace="5" hspace="5" src="sm_tracked_vehicle_belt_07.png" alt=""> <h2 id="8">Simulation Results from Simscape Logging: Flat Terrain</h2>
<p>The plot below shows track speed and path of the tracked vehicle on flat terrain.</p>
<pre class="codeoutput">Elapsed Sim Time = 7.2877
</pre>
<img vspace="5" hspace="5" src="sm_tracked_vehicle_belt_08.png" alt=""> <h2 id="10">Simulation Results from Simscape Logging: Uneven Terrain</h2>
<p>The plot below shows track speed and path of the tracked vehicle on uneven terrain.</p>
<pre class="codeoutput">Elapsed Sim Time = 25.1079
</pre>
<img vspace="5" hspace="5" src="sm_tracked_vehicle_belt_09.png" alt=""> <p class="footer">Copyright 2025-2026 The MathWorks, Inc.<br>
<a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2025a</a>
<br>
</p>
</div>
<!--
##### SOURCE BEGIN #####
%% Tracked Vehicle with Belt Contact
%
% This example models a tracked vehicle with an abstract model of the
% tracks that propel it across the ground. It shows how to use a custom
% contact force law to model the track as a conveyor belt.  The surface of
% the track is modeled as a point cloud, enabling the belt to assume any
% desired shape. The model can be configured to use a flat or an uneven
% surface for testing.
%
% Copyright 2025-2026 The MathWorks, Inc.


%% Model
%
%
% <matlab:open_system('sm_tracked_vehicle_belt'); Open Model>

open_system('sm_tracked_vehicle_belt')

set_param(find_system('sm_tracked_vehicle_belt','MatchFilter',@Simulink.match.allVariants,'FindAll', 'on','type','annotation','Tag','ModelFeatures'),'Interpreter','off')

%% Vehicle
%
% The vehicle is modeled with two identical tracks connected by a rigid
% body.  The input signal specifies the rotational speed of the rollers.
% The rotation is a visual indication only of the speed and has no actual
% impact on the motion of the vehicle.  The output signal is the
% translational speed of the belt which is used by the custom contact
% force.
%
% <matlab:open_system('sm_tracked_vehicle_belt');open_system('sm_tracked_vehicle_belt/Vehicle','force'); Open Subsystem>

set_param('sm_tracked_vehicle_belt/Vehicle','LinkStatus','none');
open_system('sm_tracked_vehicle_belt/Vehicle','force');

%% Track
%
% This subsystem models one track.  It has a triangular-shaped link
% representing the track.  Three cylinders represent the sprocket and two
% idlers.  The rotation is simply a visual indication of the target speed
% and direction of the track and has no impact on the actual speed of the
% vehicle.
%
% A point cloud is used as a geometry proxy for contact. It is
% parameterized so that the number and location of points is specified in
% MATLAB.  This lets the contact surface have any shape.
%
% <matlab:open_system('sm_tracked_vehicle_belt');open_system('sm_tracked_vehicle_belt/Vehicle/Track%20R','force'); Open Subsystem>

set_param('sm_tracked_vehicle_belt/Vehicle/Track R','LinkStatus','none');
open_system('sm_tracked_vehicle_belt/Vehicle/Track R','force');

%% Extrusion and Point Cloud
%
% The solid representing the track is created using an extrusion which is
% parameterized with a few scalar values.  From those scalar values, a
% profile is generated that includes the outer profile of the track and
% holes where the sprocket and rollers are placed.  The other points on the
% outside surface represent locations where the points in the point cloud
% could be placed.  To reduce the amount of computation, only points on the
% lower surface of the track are used, and those are highlighted in a
% different color.
%

sm_tracked_vehicle_belt_plot_extr_ptcld

%% Contact
%
% This subsystem shows the two custom contact forces that model the contact
% between the tracks and the ground.  The geometry ports connect to the
% contact geometry for the track (point cloud) and the ground (grid
% surface).  The input signal is the speed of the surface of the track.
%
% <matlab:open_system('sm_tracked_vehicle_belt');open_system('sm_tracked_vehicle_belt/Contact','force'); Open Subsystem>

set_param('sm_tracked_vehicle_belt/Contact','LinkStatus','none');
open_system('sm_tracked_vehicle_belt/Contact','force');

%% Spatial Contact Force block
%
% This subsystem shows the connection between the Spatial Contact Force
% block and the custom force law subsystem.  The Spatial Contact Force
% measures quantities necessary to calculate the normal and friction
% forces.  Those forces are fed back to the Spatial Contact Force block and
% applied to the mechanism.
%
% <matlab:open_system('sm_tracked_vehicle_belt');open_system('sm_tracked_vehicle_belt/Contact/Contact%20Track%20R','force'); Open Subsystem>

set_param('sm_tracked_vehicle_belt/Contact/Contact Track R','LinkStatus','none');
open_system('sm_tracked_vehicle_belt/Contact/Contact Track R','force');

%% Custom Contact Force Law
%
% This subsystem shows the implementation of the custom force law.  The
% separation distance and separation velocity are used to calculate the
% normal force.  The tangential velocity and the normal force are used to
% calculate the friction force.
%
% This custom force law lets the user specify the speed of the belt as an
% input signal.  This implementation adds this relative velocity to the
% measured tangential velocity. The resulting friction force will push the
% object as if the solid representing the belt was moving.
% 
% The belt speed is defined along the positive x-axis of the belt, which is
% connected to the Base frame of the Spatial Contact Force block.  Since
% the contact frame may not be aligned with the base geometry reference
% frame, we need a rotation matrix provided by the Spatial Contact Force
% block to transform the velocity expressed in the belt frame to the
% contact force frame.  That velocity is then added to the measured
% tangential velocity components which are measured in the contact force
% frame.
%
% <matlab:open_system('sm_tracked_vehicle_belt');open_system('sm_tracked_vehicle_belt/Contact/Contact%20Track%20R/Custom%20Force%20Law','force'); Open Subsystem>

set_param('sm_tracked_vehicle_belt/Contact/Contact Track R/Custom Force Law','LinkStatus','none');
open_system('sm_tracked_vehicle_belt/Contact/Contact Track R/Custom Force Law','force');


%% Simulation Results from Simscape Logging: Flat Terrain
%%
%
% The plot below shows track speed and path of the tracked vehicle on flat terrain.
%

set_param('sm_tracked_vehicle_belt/Scene','popup_terrain','Flat');
sim('sm_tracked_vehicle_belt')
sm_tracked_vehicle_belt_plot1posvel;

%% Simulation Results from Simscape Logging: Uneven Terrain
%%
%
% The plot below shows track speed and path of the tracked vehicle on uneven terrain.
%

set_param('sm_tracked_vehicle_belt/Scene','popup_terrain','Uneven');
sim('sm_tracked_vehicle_belt')
sm_tracked_vehicle_belt_plot1posvel;

%%
%clear all
close all
bdclose all

##### SOURCE END #####
-->
</body>
</html>
